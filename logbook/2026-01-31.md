# 2026-01-31 logbook

## What I did
- lab03에서 matrix transpose 벤치마크 코드 작성 및 실행함  
- naive 2종과 tiled 2종을 비교하고, block size(B)를 16/32/64로 바꿔가며 측정함  
- 결과가 틀리게 빨라지는 상황을 막기 위해 spot_check로 전치 결과를 간단히 검증하도록 구성함  
- bench 프레임을 template + 람다(callable) 방식으로 만들어 실험 케이스를 쉽게 교체할 수 있게 정리함  
- 실험 결과와 해석을 result.md에 정리하고 notes에는 벤치마킹 패턴과 검증 방법을 따로 메모함  

## Key results
- N=4096에서 naive 대비 tiled가 크게 빨랐고, tiled_write_friendly가 가장 빠른 편이었음  
- naive_write_rowmajor가 naive_read_rowmajor보다 consistently 더 빠르게 측정됨  
- block size는 32 또는 64에서 최적에 가까운 결과가 자주 나왔고, run마다 미세한 변동은 존재했음  
- run 간 시간 차이는 Colab/VM 환경의 변동성과 메모리 대역폭 지배 작업 특성 때문에 발생한다고 판단함  

## Takeaways
- transpose 같은 커널은 읽기와 쓰기 중 어느 쪽을 연속 접근으로 만들었는지가 성능에 크게 영향을 줌  
- tiling은 캐시 재사용을 늘려 stride 접근의 비용을 줄여주며, B는 너무 작아도/커도 손해가 생겨 최적점이 생김  
- 성능 실험은 속도만 보면 위험하므로, 최소한의 검증(spot_check)과 동일 조건 유지가 필수라고 느낌  
